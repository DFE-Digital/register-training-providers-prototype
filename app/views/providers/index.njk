{% extends "layouts/main.njk" %}

{% set primaryNavId = "providers" %}

{% set title = "Providers" %}

{% block content %}

{% include "_includes/notification-banner.njk" %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <h1 class="govuk-heading-l">
      {{ title }}
    </h1>

    {{ govukButton({
      text: "Add provider",
      href: "/providers/new"
    }) }}

    {% if providers.length %}
      <table class="govuk-table">
        <thead class="govuk-table__head">
          <tr class="govuk-table__row">
            <th scope="col" class="govuk-table__header govuk-!-width-one-third">Operating name</th>
            <th scope="col" class="govuk-table__header govuk-!-width-one-third">Legal name</th>
            <th scope="col" class="govuk-table__header">UK provider reference number (UKPRN)</th>
          </tr>
        </thead>
        <tbody class="govuk-table__body">
          {% for provider in providers %}
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">
                <a class="govuk-link" href="/providers/{{ provider.id }}">
                  {{ provider.operating_name }}
                </a>
              </td>
              <td class="govuk-table__cell">
                {{ provider.legal_name if provider.legal_name.length else "Not entered" }}
              </td>
              <td class="govuk-table__cell">
                {{ provider.ukprn if provider.ukprn else "Not entered" }}
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="govuk-body">There are no providers.</p>
    {% endif %}

  </div>
</div>

{% endblock %}
